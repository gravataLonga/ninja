function map(arr, f) {
     function iter(arr, accumulated) { 
          if (len(arr) == 0) {
               return accumulated
          } else {
               return iter(rest(arr), push(accumulated, f(first(arr))));
          } 
     };
     iter(arr, []);
};

var a = [1, 2, 3, 4];
function double(x) {
    return x * 2;
}

puts(map(a, double));